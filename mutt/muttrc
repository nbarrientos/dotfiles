# Default account
source "~/.mutt/account.cern"

# ----- Misc boolean settings
  set autoedit          # start the editor without asking for to, subject,...
  set auto_tag          # if something is tagged, run commands on tagged msgs.
  set beep_new          # set the urgent flag if there's new email
  set check_new         # search for new messages in maildir/MH folders.
unset collapse_unread   # don't collapse threads with unread mails
unset confirmappend     # prompt for confirm when appending message to ex. mbox
  set edit_headers      # put headers in editor when composing messages
unset help              # do not show the help line describing the bindings
  set include           # add a copy of the message to the reply
unset markers           # no pluses at the beggining of continued lines
unset mark_old          # read/unred is good enough
  set pager_stop        # do not to switch to the next message when at the bottom of a mail
  set pgp_verify_sig    # always verify pgp signatures
unset prompt_after      # display prompt after exit from pager
unset reply_self        # i won't ever reply to myself :)
  set sig_dashes        # prepend "-- \n" to the signature
  set status_on_top     # i prefer to see the status bar on the top
  set tilde             # internal Pager: ~~~~ at and of message.
  set user_agent        # create User-Agent: Mutt/<Version> header.
unset wait_key          # Only ask to "press a key" if the return value non-zero.

# ----- Misc non-boolean settings
set editor =            vim
set mbox_type =         Maildir
set sleep_time =        0 # do not pause when displaying status messages
set pager_index_lines = 20
set header_cache =      ~/.mutt/cache/headers
set message_cachedir =  ~/.mutt/cache/bodies
set certificate_file =  ~/.mutt/certificates
set quit =              "ask-yes"

# ----- HTML rendering
auto_view text/html
set mailcap_path =      ~/.mutt/mailcap

# ----- Formats
set folder_format =     "%2C %N %d      %f"
set index_format =      "%Z %4M %[!%d/%m/%y %H:%M] %-23.23n \| %s"

# ----- Mail addresses
unalternates *
alternates (nacho.barrientos|ignacio.barrientos.arias)@cern.ch
lists \.cern\.ch

# ----- Mailboxes
mailboxes =ai-admins \
          =ai-config-team \
          =ai-jira \
          =ai-jira-crm \
          =building-31 \
          =c5-minutes \
          =cern-personnel \
          =Drafts \
          =foreman-announce \
          =foreman-users \
          =gitlab \
          =i3-discuss \
          =INBOX \
          =it-dep \
          =it-dep-cm \
          =it-dep-cm-lcs \
          =linux-users \
          =oss-security \
          =puppet-dev \
          =puppet-users \
          =rh-errata \
          ="Sent Items" \
          =service-desk \
          =service-desk-crap \
          =spanish-gang \
          =Trash \

# ----- Headers customising
ignore    *
unignore  from: subject to cc reply-to: date
unignore  x-mailer user-agent x-operating-system list-id
hdr_order date from subject to cc reply-to: list-id
my_hdr    X-Operating-System: `uname -sr` (`uname -m`)

# ----- Mailing list robots
send-hook (-subscribe|-unsubscribe) set signature=""
send-hook (-subscribe|-unsubscribe) set copy=no
send-hook -request      set signature=""
send-hook -request      set copy=no

# ----- Sidebar
set sidebar_visible
set sidebar_next_new_wrap
set mail_check_stats
set sidebar_format =      "%B%?F? [%F]?%* %?N?%N?"
set sidebar_sort_method = path

# ----- Bindings
bind pager gg noop
bind pager gg top
bind pager G  bottom
bind index gg noop
bind index gg first-entry
bind index G  last-entry
bind index,pager \Cp sidebar-prev
bind index,pager \Cn sidebar-next-new
bind index,pager \Co sidebar-open
bind index,pager \Cb sidebar-toggle-visible
bind index,pager / noop
bind index,pager <esc>/ noop
bind index,pager / search-reverse
bind index,pager <esc>/ search

# ----- Colors
source "~/.mutt/mutt-colors-solarized/mutt-colors-solarized-dark-16.muttrc"
color sidebar_highlight default black
color sidebar_new cyan default
color sidebar_divider yellow default
